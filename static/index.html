<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
   <head>
<!--      <link type="text/css" rel="stylesheet" href="documentation.css" /> -->
   <title>EasyMap_Shim</title> 
   </head>
   <body>
        <h1 id="EasyMap">EasyMap_Shim - v0.1 Release Notes</h1>
        <h2>What Is This?</h2>
        <p>
According to Wikipedia, a '<a href='https://en.wikipedia.org/wiki/Shim_(computing)'>software shim</a>' can be used to "[support] a new API in an older environment".
 The creation of the NBN Atlas has involved, not just a change to the website but, the development of a new backend server with different means of access.
 The old ways of programatically accessing data have been replaced with a <a href='http://api.nbnatlas.org'>new API</a> that will now need to be used by client applications (the old API and associated urls are no longer available).
 During development the team solicited feedback regarding which features of the old API users felt would most benefit from targetted transitioning assistance.
 The EasyMap service emerged as a priority and this <b>shim</b> has been developed to provide a stopgap measure to enable websites to continue to display NBN maps whilst they are adapted to take advantage of the new API's extended capabilities.
</p>
        <h2>Caveats</h2>
Not quite all of the <a href="easymap.html">Original EasyMap Functionality</a> is replicated in the shim.
 Notably, neither grids nor Ordnance Survey maps are available as backgrounds.
 At some resolutions it has been necessary to replace images generated by tiles with those generated by point markers.
 When this occurs, filter paramaters (such as date and dataset) are ignored and only the first layer is displayed (the map background goes grey to signify this degredation in service).
</p>
<p>
        <h2>Additions</h2>
Some maps may take significant time to generate (up to 30 seconds for maps with several layers).
 To create a better user experience an automatic caching mechanism has been implemented that stores generated images for up to a month.
</p>
<p>
e.g. <a href="http://188.226.187.206:8080/EasyMap?tvk=NHMSYS0000344177&w=400&ds=GA000012&b0fill=ff0000">http://188.226.187.206:8080/EasyMap?tvk=NHMSYS0000344177&w=400&ds=GA000012&b0fill=ff0000</a>
</p>
<center>
<img width="200px" src="http://188.226.187.206:8080/Image?tvk=NHMSYS0000344177&w=400&ds=GA000012&b0fill=ff0000" width=300px></img>
</center>
<br>
<p>
In addition to the EasyMap service, a small number of SingleSpecies map generations calls are also implemented (specifically 'band', e.g. <a href="http://188.226.187.206:8080/SingleSpecies/NHMSYS0001387317/map?datasets=GA000157,GA001180&resolution=10km&imagesize=8&band=1600-1987,ffffff,000000&band=1988-1997,0095ff,000000&band=1998-2025,0000ff,000000">http://188.226.187.206:8080/SingleSpecies/NHMSYS0001387317/map?datasets=GA000157,GA001180&resolution=10km&imagesize=8&band=1600-1987,ffffff,000000&band=1988-1997,0095ff,000000&band=1998-2025,0000ff,000000</a>).
 N.B. This shim does not implement WMS functions. If you are looking for a replacement for the SingleSpecies WMS urls, please check 'Mapping' in the <a href="http://api.nbnatlas.org">API documentation</a>.
</p>
<p>
        <h2>Recommendations</h2>
<p>
In the future, website developers are advised that dynamic maps are likely to be appreciated by their visitors.
 Interactive maps
 (both <a href="https://duncanrowland.github.io/NBNMapOverlayExamples/leaflet3.html">tile based</a>
 and
 <a href="https://duncanrowland.github.io/NBNMapOverlayExamples/leaflet2.html">vector</a>)
 are simple to add to a website and are both fully supported by the NBN Atlas' API.
</p>
    </body>
</html>

